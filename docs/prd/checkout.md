# PRD: 電子商務購物車與結帳系統

## 1. 產品概覽

### 1.1 文件標題與版本

- PRD: 電子商務購物車與結帳系統
- 版本: 1.0

### 1.2 產品摘要

本專案旨在開發一套完整的購物車與結帳系統，涵蓋從商品選購到訂單完成的完整流程。該系統包含六個核心組件：填寫寄送資訊、選擇付款方式、訂單確認、訂單完成頁面、訂單列表與訂單明細。

---

## 2. 功能需求

- **購物車管理** (優先級: 高) ✅
  - 商品加入購物車與數量調整 ✅
  - 商品移除功能 ✅
  - 購物車金額即時計算 ✅
  - 購物車內容暫存(跨設備同步)

- **填寫寄送資訊** (優先級: 高) ✅
  - 基本資料收集(姓名、Email、電話、地址) ✅
  - 表單驗證與錯誤提示 ✅
  - 地址格式標準化
  - 超商取貨選項(選填)

- **付款流程** (優先級: 高) ✅
  - 多種付款方式選擇(信用卡、LINE Pay) ✅
  - 安全的付款資訊處理 ✅
  - 發票資訊設定
  - 訂單條款確認

- **訂單確認** (優先級: 高) ✅
  - 完整訂單摘要顯示 ✅
  - 金額計算明細(商品、運費、稅金、折扣) ✅
  - 優惠券套用功能
  - 最終確認與下單 ✅

- **訂單完成體驗** (優先級: 中)
  - 訂單成功確認訊息 ✅
  - 訂單編號與追蹤資訊 ✅
  - 後續引導(繼續購物、查看訂單)
  - 相關商品推薦

- **訂單管理** (優先級: 中) ✅
  - 訂單列表與分頁 ✅
  - 訂單狀態追蹤 ✅
  - 訂單詳細資訊查看 ✅
  - 訂單相關文件下載

---

## 3. 核心體驗與流程

- **購物車確認**: 用戶檢視所選商品，可調整數量或移除品項 ✅
  - 提供清晰的商品圖片、名稱、單價與小計 ✅
  - 即時更新總金額計算 ✅
  
- **填寫資訊**: 用戶輸入寄送與聯絡資訊 ✅
  - 即時表單驗證減少錯誤 ✅
  - 常用地址保存功能(登入用戶)
  
- **選擇付款**: 用戶選擇偏好付款方式 ✅
  - 直覺的卡片式選項設計 ✅
  - 安全標誌增強信任感 ✅
  
- **訂單確認**: 用戶最終確認所有訂單資訊 ✅
  - 完整摘要清晰呈現 ✅
  - 明確的「確認訂單」按鈕 ✅
  
- **訂單完成**: 顯示訂單成功訊息與後續步驟 ✅
  - 提供訂單編號與預計交付時間 ✅
  - 建議下一步動作

---

## 4. 進階功能與邊緣情況

- 購物車資料本地保存，重新載入頁面不丟失資料
- 表單部分填寫後跳轉頁面，返回時保留已填資訊
- 網路連接中斷時的資料保護機制
- 付款處理中斷時的恢復選項
- 大量商品結帳時的效能優化
- 優惠券錯誤處理與提示機制

---

## 5. 用戶故事

### 5.1. 管理購物車

- **ID**: US-001
- **描述**: 作為用戶，我希望能夠查看購物車內容，以確認選購的商品。
- **接受標準**:
  - 顯示購物車中所有商品，包含名稱、單價、數量、小計 ✅
  - 能增減商品數量或移除商品 ✅
  - 即時計算並更新總金額 ✅
  - 清空購物車選項 ✅
  - 顯示購物車為空的適當訊息 ✅

### 5.2. 填寫配送資訊

- **ID**: US-002
- **描述**: 作為用戶，我需要輸入收件資訊，以便商品能正確送達。
- **接受標準**:
  - 提供姓名、Email、電話、地址等必填欄位 ✅
  - 提供即時表單驗證與錯誤提示 ✅
  - 記住已註冊用戶的資訊，提供自動填充
  - 提供超商取貨選項(若適用)
  - 成功填寫後可進入下一步 ✅

### 5.3. 選擇付款方式

- **ID**: US-003
- **描述**: 作為用戶，我希望選擇合適的付款方式，以完成訂單交易。
- **接受標準**:
  - 提供至少兩種付款選項(信用卡、LINE Pay) ✅
  - 選項以直覺的卡片式介面呈現 ✅
  - 針對不同付款方式顯示相應的輸入欄位 ✅
  - 提供安全說明提升信任感 ✅
  - 成功選擇後可進入下一步 ✅

### 5.4. 確認訂單

- **ID**: US-004
- **描述**: 作為用戶，我希望在提交前確認訂單的所有細節，以避免錯誤。
- **接受標準**:
  - 顯示完整的商品清單與金額計算 ✅
  - 顯示已選的付款方式與寄送資訊 ✅
  - 提供優惠券輸入欄位並顯示折扣金額
  - 顯示稅金、運費等額外費用 ✅
  - 明確的訂單提交按鈕 ✅

### 5.5. 完成訂單

- **ID**: US-005
- **描述**: 作為用戶，我希望在完成訂單後獲得明確確認，知道下一步該做什麼。
- **接受標準**:
  - 顯示訂單成功訊息與訂單編號 ✅
  - 提供訂單詳情的連結 ✅
  - 顯示預計配送時間 ✅
  - 提供返回首頁或繼續購物的選項 ✅
  - 發送訂單確認郵件至用戶Email

### 5.6. 查看訂單列表

- **ID**: US-006
- **描述**: 作為用戶，我想查看我的所有訂單歷史，以追蹤過去的購買記錄。
- **接受標準**:
  - 以時間倒序顯示所有訂單 ✅
  - 每筆訂單顯示基本資訊(訂單號、日期、金額、狀態) ✅
  - 提供篩選和搜尋功能
  - 分頁顯示大量訂單 ✅
  - 點擊可進入訂單詳情頁面 ✅

### 5.7. 查看訂單詳情

- **ID**: US-007
- **描述**: 作為用戶，我希望查看特定訂單的詳細資訊，了解訂單狀態與內容。
- **接受標準**:
  - 顯示訂單完整資訊(商品、數量、金額) ✅
  - 顯示付款與配送狀態 ✅
  - 提供配送追蹤資訊或連結 ✅
  - 顯示收件人與寄送地址資訊 ✅
  - 提供電子發票下載選項

### 5.8. 應用優惠券

- **ID**: US-008
- **描述**: 作為用戶，我希望能套用優惠券於訂單，以節省費用。
- **接受標準**:
  - 提供優惠券代碼輸入欄位
  - 驗證優惠券有效性並即時顯示結果
  - 顯示折扣金額並更新總金額
  - 清楚說明優惠券使用條件與限制
  - 允許移除已套用的優惠券

### 5.9. 處理付款錯誤

- **ID**: US-009
- **描述**: 作為用戶，當付款過程出現問題時，我希望獲得明確的錯誤訊息與解決方案。
- **接受標準**:
  - 顯示具體的錯誤原因(如卡號錯誤、餘額不足)
  - 提供清晰的解決步驟指引
  - 允許嘗試其他付款方式
  - 保留已填寫的訂單資訊
  - 提供客服聯繫選項

### 5.10. 跨設備繼續購物

- **ID**: US-010
- **描述**: 作為多設備用戶，我希望能在不同裝置間繼續我的購物流程。
- **接受標準**:
  - 購物車內容在用戶登入後可跨設備同步
  - 暫存未完成的結帳資訊
  - 登入後自動恢復上次的購物狀態
  - 適應不同螢幕大小的響應式設計
  - 在任何設備上提供一致的使用體驗
