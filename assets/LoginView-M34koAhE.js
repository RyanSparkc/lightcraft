import{H as V,r as u,j as S,b as c,c as l,e as k,d as s,I as E,E as p,G as _,f,F as T,h as I,p as P,g as D,v as L}from"./index-AP1mULAj.js";import{u as R}from"./toastMessage-hYlk33Q3.js";import{_ as A}from"./ToastMessages-UH0x6kog.js";import{_ as M}from"./plugin-vueexport-helper-x3n3nnut.js";var U={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"vue001",BASE_URL:"/lightcraft/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const t=a=>(P("data-v-2bf25bf3"),a=a(),D(),a),B={class:"login-background min-vh-100 d-flex align-items-center"},N=t(()=>s("div",{class:"geometric-decoration"},null,-1)),$={class:"container"},j={class:"row justify-content-center"},q={class:"col-12 col-sm-8 col-md-6 col-lg-4"},F={class:"login-card shadow-large rounded-xl-custom p-4 p-md-5"},H=I('<div class="text-center mb-4" data-v-2bf25bf3><div class="login-logo gradient-bg d-inline-flex align-items-center justify-content-center" data-v-2bf25bf3><i class="bi bi-house-door fs-1 text-white" data-v-2bf25bf3></i></div><h1 class="h3 mt-3 mb-1 fw-bold text-primary-custom" data-v-2bf25bf3>歡迎回來</h1><p class="text-muted-custom mb-0" data-v-2bf25bf3>請登入您的帳戶</p></div>',1),O={class:"form-group mb-3"},G=t(()=>s("label",{for:"username",class:"form-label text-secondary-custom fw-medium"}," 電子郵件 ",-1)),z={class:"input-wrapper"},C=t(()=>s("i",{class:"bi bi-envelope input-icon"},null,-1)),J={class:"form-group mb-4"},K=t(()=>s("label",{for:"password",class:"form-label text-secondary-custom fw-medium"}," 密碼 ",-1)),Q={class:"input-wrapper"},W=t(()=>s("i",{class:"bi bi-lock input-icon"},null,-1)),X=["disabled"],Y={key:0},Z=t(()=>s("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1)),ss={key:1},es=t(()=>s("span",{class:"spinner-border spinner-border-sm me-2",role:"status"},null,-1)),os={__name:"LoginView",setup(a){const{VITE_APP_URL:b}=U,h=V(),v=R(),{addMessage:d}=v,m=u("example@gmail.com"),i=S({username:"tomgx09@gmail.com",password:"vue9999"}),n=u(!1),g=async()=>{var r,e;n.value=!0;try{const o={username:i.username,password:i.password},w=await L.post(`${b}/admin/signin`,o),{token:x,expired:y}=w.data;document.cookie=`hexToken=${x}; expires=${new Date(y)};`,d({title:"登入成功",content:"歡迎回來！正在跳轉到管理介面...",style:"success"}),setTimeout(()=>{h.push("/admin/products")},1e3)}catch(o){d({title:"登入失敗",content:((e=(r=o.response)==null?void 0:r.data)==null?void 0:e.message)||"登入時發生錯誤，請稍後再試",style:"danger"})}finally{n.value=!1}};return(r,e)=>(c(),l(T,null,[k(A),s("div",B,[N,s("div",$,[s("div",j,[s("div",q,[s("div",F,[H,s("form",{onSubmit:E(g,["prevent"]),class:"login-form"},[s("div",O,[G,s("div",z,[C,p(s("input",{type:"email",class:"form-control form-control-modern",id:"username",placeholder:"example@gmail.com",required:"","onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o)},null,512),[[_,m.value]])])]),s("div",J,[K,s("div",Q,[W,p(s("input",{type:"password",class:"form-control form-control-modern",id:"password",placeholder:"請輸入您的密碼",required:"","onUpdate:modelValue":e[1]||(e[1]=o=>i.password=o)},null,512),[[_,i.password]])])]),s("button",{type:"submit",class:"btn btn-login w-100 fw-medium transition-smooth",disabled:n.value},[n.value?(c(),l("span",ss,[es,f(" 登入中... ")])):(c(),l("span",Y,[Z,f(" 立即登入 ")]))],8,X)],32)])])])])])],64))}},rs=M(os,[["__scopeId","data-v-2bf25bf3"]]);export{rs as default};
