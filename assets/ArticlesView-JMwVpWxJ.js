import{_ as y,a as w,r as _,o as l,c as d,d as h,b as s,e as a,t as i,F as p,i as k,j as m,n as g,G as f,w as L,p as P,f as A}from"./index-o0dRVNdH.js";import{u as M}from"./toastMessage-utfMM2qb.js";import{H as S}from"./HeroSection-l22Ej9g6.js";var T={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"vue001",BASE_URL:"/lightcraft/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:V,VITE_APP_PATH:E}=T,H={components:{HeroSection:S},data(){return{isLoading:!1,articles:[],pagination:{}}},methods:{...w(M,["addMessage"]),getArticles(n=1){const c=`${V}/api/${E}/articles?page=${n}`;this.isLoading=!0,this.axios(c).then(r=>{this.articles=r.data.articles,this.pagination=r.data.pagination,this.isLoading=!1}).catch(r=>{this.isLoading=!1,this.addMessage({title:"取得文章失敗",content:r.response.data.message,style:"danger"})})}},mounted(){this.getArticles()}},e=n=>(P("data-v-f70a2d81"),n=n(),A(),n),I={class:"container my-5"},R={class:"row mb-4"},C={class:"col-12"},j={class:"d-flex justify-content-between align-items-center"},B={class:"text-muted mb-0"},D=e(()=>s("i",{class:"fas fa-newspaper me-2"},null,-1)),N={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},O={key:0,class:"col"},U={class:"card h-100 article-card"},z={class:"position-relative"},F=["src","alt"],G=e(()=>s("div",{class:"position-absolute top-0 end-0 m-2"},[s("span",{class:"badge bg-warning text-dark"},[s("i",{class:"fas fa-star me-1"}),a("精選 ")])],-1)),q={class:"card-body d-flex flex-column"},J={class:"mb-3"},K=e(()=>s("span",{class:"badge bg-light text-dark border me-2"},[s("i",{class:"fas fa-lightbulb me-1"}),a("照明知識 ")],-1)),Q={class:"text-muted"},W=e(()=>s("i",{class:"fas fa-calendar me-1"},null,-1)),X={class:"card-title mb-3"},Y=["innerHTML"],Z={class:"d-flex justify-content-between align-items-center"},$={class:"text-muted"},ss=e(()=>s("i",{class:"fas fa-user me-1"},null,-1)),ts={class:"article-actions"},es={class:"btn btn-sm btn-outline-secondary me-2",disabled:""},os=e(()=>s("i",{class:"fas fa-eye me-1"},null,-1)),as={class:"btn btn-sm btn-outline-secondary",disabled:""},is=e(()=>s("i",{class:"fas fa-heart me-1"},null,-1)),ns={class:"card-footer bg-transparent border-0 pt-0"},cs=e(()=>s("i",{class:"fas fa-book-open me-2"},null,-1)),ls={key:0,class:"text-center py-5"},ds=e(()=>s("i",{class:"fas fa-lightbulb text-muted",style:{"font-size":"4rem",opacity:"0.3"}},null,-1)),rs=e(()=>s("h3",{class:"text-muted mt-3"},"暫無文章",-1)),_s=e(()=>s("p",{class:"text-muted"},"精彩內容即將推出，敬請期待！",-1)),hs=[ds,rs,_s],ps={key:1,class:"row mt-5"},ms={class:"col-12"},us={"aria-label":"文章分頁"},gs={class:"pagination justify-content-center"},fs=e(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),bs={class:"page-item active"},vs={class:"page-link"},xs=e(()=>s("i",{class:"fas fa-chevron-right"},null,-1));function ys(n,c,r,ws,o,u){const b=_("LoadingOverlay"),v=_("HeroSection"),x=_("RouterLink");return l(),d(p,null,[h(b,{active:o.isLoading},null,8,["active"]),h(v,{title:"文章專區",subtitle:"探索照明世界的精彩知識，從選購指南到居家佈置靈感","icon-class":"fas fa-lightbulb"}),s("div",I,[s("div",R,[s("div",C,[s("div",j,[s("p",B,[D,a(" 共 "+i(o.articles.filter(t=>t.isPublic).length)+" 篇文章 ",1)])])])]),s("div",N,[(l(!0),d(p,null,k(o.articles,t=>(l(),d(p,{key:t.id},[t.isPublic?(l(),d("div",O,[s("div",U,[s("div",z,[s("img",{src:t.imageUrl||t.image||"https://via.placeholder.com/300x200?text=燈泡文章",class:"card-img-top",style:{height:"200px","object-fit":"cover"},alt:t.title},null,8,F),G]),s("div",q,[s("div",J,[K,s("small",Q,[W,a(" "+i(n.$filters.date(t.create_at)),1)])]),s("h5",X,i(t.title),1),s("div",{class:"article-description text-muted mb-3 flex-grow-1",innerHTML:t.description},null,8,Y),s("div",Z,[s("small",$,[ss,a(" "+i(t.author||"編輯部"),1)]),s("div",ts,[s("button",es,[os,a(" "+i(Math.floor(Math.random()*500)+100),1)]),s("button",as,[is,a(" "+i(Math.floor(Math.random()*50)+10),1)])])])]),s("div",ns,[h(x,{class:"btn btn-warning text-dark w-100 fw-bold",to:`/article/${t.id}`},{default:L(()=>[cs,a(" 閱讀全文 ")]),_:2},1032,["to"])])])])):m("",!0)],64))),128))]),o.articles.filter(t=>t.isPublic).length===0?(l(),d("div",ls,hs)):m("",!0),o.pagination.total_pages>1?(l(),d("div",ps,[s("div",ms,[s("nav",us,[s("ul",gs,[s("li",{class:g(["page-item",{disabled:!o.pagination.has_pre}])},[s("a",{class:"page-link",href:"#",onClick:c[0]||(c[0]=f(t=>u.getArticles(o.pagination.current_page-1),["prevent"]))},[fs,a(" 上一頁 ")])],2),s("li",bs,[s("span",vs,i(o.pagination.current_page)+" / "+i(o.pagination.total_pages),1)]),s("li",{class:g(["page-item",{disabled:!o.pagination.has_next}])},[s("a",{class:"page-link",href:"#",onClick:c[1]||(c[1]=f(t=>u.getArticles(o.pagination.current_page+1),["prevent"]))},[a(" 下一頁 "),xs])],2)])])])])):m("",!0)])],64)}const As=y(H,[["render",ys],["__scopeId","data-v-f70a2d81"]]);export{As as default};
