import{_ as v,a as g,h as c,r as l,o as d,c as f,b as s,d as e,w as o,G as b,B as k,j as T,F as M,e as n}from"./index-GUSxKoRt.js";import{u as V}from"./toastMessage-soxdBFSL.js";import{T as x}from"./ToastMessages-FsNCMS4t.js";var P={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"vue001",BASE_URL:"/lightcraft/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:u}=P,R={data(){return{products:[],tempProduct:{imagesUrl:[]},success:!1}},components:{ToastMessages:x},methods:{...g(V,["addMessage"]),checkLogin(){c.post(`${u}/api/user/check`).then(a=>{console.log(a.data.success),this.addMessage({title:"登入成功",content:a.data.message,style:"success"}),this.success=!0}).catch(a=>{console.log(a.response.data.message),this.$router.push("/login")})},logout(){c.post(`${u}/logout`).then(()=>{this.$router.push("/login")}).catch(a=>{console.error(a.response.data.message)})}},mounted(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");c.defaults.headers.common.Authorization=a,this.checkLogin()}},$={class:"navbar navbar-expand-lg navbar-light",style:{"background-color":"#FFC107"}},A={class:"container-fluid"},E=s("a",{class:"navbar-brand",href:"#"},"燈泡市集",-1),L=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarMarkup","aria-controls":"navbarMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarMarkup"},B={class:"navbar-nav me-auto mb-2 mb-lg-0"},C={class:"nav-item"},y={class:"nav-item"},D={class:"nav-item"},F={class:"nav-item"},N={class:"navbar-nav mb-2 mb-lg-0"},S={class:"nav-item"},U={class:"nav-item"},I={class:"container-fluid mt-5 position-relative"};function O(a,i,j,z,_,r){const t=l("RouterLink"),m=l("ToastMessages"),h=l("RouterView");return d(),f(M,null,[s("nav",$,[s("div",A,[E,L,s("div",w,[s("ul",B,[s("li",C,[e(t,{class:"nav-link",to:"/admin/products"},{default:o(()=>[n("產品列表")]),_:1})]),s("li",y,[e(t,{class:"nav-link",to:"/admin/order"},{default:o(()=>[n("訂單管理")]),_:1})]),s("li",D,[e(t,{class:"nav-link",to:"/admin/coupon"},{default:o(()=>[n("優惠券")]),_:1})]),s("li",F,[e(t,{class:"nav-link",to:"/admin/articles"},{default:o(()=>[n("文章列表")]),_:1})])]),s("ul",N,[s("li",S,[s("a",{href:"#",onClick:i[0]||(i[0]=b((...p)=>r.logout&&r.logout(...p),["prevent"])),class:"nav-link"},"登出")]),s("li",U,[e(t,{class:"nav-link",to:"/"},{default:o(()=>[n("回到前台")]),_:1})])])])])]),s("div",I,[e(m),_.success===!0?(d(),k(h,{key:0})):T("",!0)])],64)}const J=v(R,[["render",O]]);export{J as default};
