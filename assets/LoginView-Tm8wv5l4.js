import{_ as h,a as g,h as f,r as v,o as r,c as l,d as b,b as s,G as w,C as m,D as p,e as u,F as x,g as y,p as T,f as V}from"./index-UKIsyGAy.js";import{u as E}from"./toastMessage-WJ0KJshq.js";import{T as M}from"./ToastMessages-ZmuTvq5U.js";var k={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"vue001",BASE_URL:"/lightcraft/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:L}=k,S={data(){return{displayEmail:"example@gmail.com",user:{username:"tomgx09@gmail.com",password:"vue9999"},isLoading:!1}},components:{ToastMessages:M},methods:{...g(E,["addMessage"]),async login(){var t,e;this.isLoading=!0;try{const n={username:this.user.username,password:this.user.password},c=await f.post(`${L}/admin/signin`,n),{token:o,expired:d}=c.data;document.cookie=`hexToken=${o}; expires=${new Date(d)};`,this.addMessage({title:"登入成功",content:"歡迎回來！正在跳轉到管理介面...",style:"success"}),setTimeout(()=>{this.$router.push("/admin/products")},1e3)}catch(n){this.addMessage({title:"登入失敗",content:((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"登入時發生錯誤，請稍後再試",style:"danger"})}finally{this.isLoading=!1}}}},a=t=>(T("data-v-d712aa08"),t=t(),V(),t),P={class:"login-background min-vh-100 d-flex align-items-center"},D=a(()=>s("div",{class:"geometric-decoration"},null,-1)),I={class:"container"},A={class:"row justify-content-center"},R={class:"col-12 col-sm-8 col-md-6 col-lg-4"},U={class:"login-card shadow-large rounded-xl-custom p-4 p-md-5"},B=y('<div class="text-center mb-4" data-v-d712aa08><div class="login-logo gradient-bg d-inline-flex align-items-center justify-content-center" data-v-d712aa08><i class="bi bi-house-door fs-1 text-white" data-v-d712aa08></i></div><h1 class="h3 mt-3 mb-1 fw-bold text-primary-custom" data-v-d712aa08>歡迎回來</h1><p class="text-muted-custom mb-0" data-v-d712aa08>請登入您的帳戶</p></div>',1),N={class:"form-group mb-3"},j=a(()=>s("label",{for:"username",class:"form-label text-secondary-custom fw-medium"}," 電子郵件 ",-1)),q={class:"input-wrapper"},C=a(()=>s("i",{class:"bi bi-envelope input-icon"},null,-1)),F={class:"form-group mb-4"},O=a(()=>s("label",{for:"password",class:"form-label text-secondary-custom fw-medium"}," 密碼 ",-1)),G={class:"input-wrapper"},H=a(()=>s("i",{class:"bi bi-lock input-icon"},null,-1)),z=["disabled"],J={key:0},K=a(()=>s("i",{class:"bi bi-box-arrow-in-right me-2"},null,-1)),Q={key:1},W=a(()=>s("span",{class:"spinner-border spinner-border-sm me-2",role:"status"},null,-1));function X(t,e,n,c,o,d){const _=v("ToastMessages");return r(),l(x,null,[b(_),s("div",P,[D,s("div",I,[s("div",A,[s("div",R,[s("div",U,[B,s("form",{onSubmit:e[2]||(e[2]=w((...i)=>d.login&&d.login(...i),["prevent"])),class:"login-form"},[s("div",N,[j,s("div",q,[C,m(s("input",{type:"email",class:"form-control form-control-modern",id:"username",placeholder:"example@gmail.com",required:"","onUpdate:modelValue":e[0]||(e[0]=i=>o.displayEmail=i)},null,512),[[p,o.displayEmail]])])]),s("div",F,[O,s("div",G,[H,m(s("input",{type:"password",class:"form-control form-control-modern",id:"password",placeholder:"請輸入您的密碼",required:"","onUpdate:modelValue":e[1]||(e[1]=i=>o.user.password=i)},null,512),[[p,o.user.password]])])]),s("button",{type:"submit",class:"btn btn-login w-100 fw-medium transition-smooth",disabled:o.isLoading},[o.isLoading?(r(),l("span",Q,[W,u(" 登入中... ")])):(r(),l("span",J,[K,u(" 立即登入 ")]))],8,z)],32)])])])])])],64)}const ss=h(S,[["render",X],["__scopeId","data-v-d712aa08"]]);export{ss as default};
