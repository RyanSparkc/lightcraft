import{_ as $,o,c,b as t,t as d,g as x,h as M,v as T,F as b,i as g,j as u,r as k,d as p,w as _,f as w,e as h,p as P,k as S}from"./index-oLHiwi7a.js";import{M as I}from"./bootstrap.esm-TTjMTX3M.js";const C={props:["product"],data(){return{status:{},productModal:"",qty:1}},mounted(){this.productModal=new I(this.$refs.modal,{keyboard:!1,backdrop:"static"})},methods:{openModal(){this.productModal.show()},hideModal(){this.productModal.hide()}},watch:{product(){this.qty=1}}},E={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},V={class:"modal-dialog modal-xl",role:"document"},A={class:"modal-content border-0"},U={class:"modal-header bg-dark text-white"},N={class:"modal-title",id:"exampleModalLabel"},q=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),R={class:"modal-body"},j={class:"row"},O={class:"col-sm-6"},D=["src"],B={class:"col-sm-6"},F={class:"badge bg-primary rounded-pill"},H={key:0,class:"h5"},z={key:1},G={key:0,class:"h6"},J={key:1,class:"h5"},K={class:"input-group"},Q=["value"];function W(e,s,a,r,n,y){return o(),c("div",E,[t("div",V,[t("div",A,[t("div",U,[t("h5",N,[t("span",null,d(a.product.title),1)]),q]),t("div",R,[t("div",j,[t("div",O,[t("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,D)]),t("div",B,[t("span",F,d(a.product.category),1),t("p",null,"商品描述："+d(a.product.description),1),t("p",null,"商品內容："+d(a.product.content),1),a.product.origin_price===a.product.price?(o(),c("div",H,d(a.product.origin_price)+" 元",1)):(o(),c("div",z,[a.product.price?(o(),c("del",G,"原價 "+d(a.product.origin_price)+" 元",1)):x("",!0),a.product.price?(o(),c("div",J,"現在只要 "+d(a.product.price)+" 元",1)):x("",!0)])),t("div",null,[t("div",K,[M(t("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=i=>n.qty=i)},[(o(),c(b,null,g(20,i=>t("option",{value:i,key:i},d(i),9,Q)),64))],512),[[T,n.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=i=>e.$emit("add-to-cart",a.product.id,n.qty))},"加入購物車")])])])])])])])],512)}const X=$(C,[["render",W]]);var Y={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"ryanpro",BASE_URL:"/vue_practise_week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:m,VITE_APP_PATH:v}=Y,Z={data(){return{loadingStatus:{loadingItem:""},products:[],product:{},categories:["衣服2","衣服","嬰兒連身衣","c","C","測試分類","測試分類2","測試分類10"],cart:{},isLoading:!0}},watch:{"$route.query":function(){this.getProducts()}},methods:{getProducts(){const{category:e=""}=this.$route.query;u.get(`${m}/api/${v}/products?category=${e}`).then(s=>{this.products=s.data.products,this.isLoading=!1}).catch(s=>{alert(s.res.data.message)})},getProduct(e){this.loadingStatus.loadingItem=e,u.get(`${m}/api/${v}/product/${e}`).then(s=>{this.loadingStatus.loadingItem="",this.product=s.data.product,this.$refs.userModal.openModal()}).catch(s=>{alert(s.res.data.message)})},addToCart(e,s=1){this.loadingStatus.loadingItem=e;const a={product_id:e,qty:s};this.$refs.userModal.hideModal(),u.post(`${m}/api/${v}/cart`,{data:a}).then(r=>{alert(r.data.message),this.loadingStatus.loadingItem="",this.getCart()}).catch(r=>{alert(r.res.data.message)})},changeCart(e,s){this.loadingStatus.loadingItem=e.id;const a={product_id:e.product_id,qty:s};console.log(a),u.put(`${m}/api/${v}/cart/${e.id}`,{data:a}).then(r=>{alert(r.data.message),this.loadingStatus.loadingItem="",this.getCart()}).catch(r=>{alert(r.res.data.message),this.loadingStatus.loadingItem=""})}},mounted(){this.getProducts()},components:{UserModal:X}},f=e=>(P("data-v-7c240827"),e=e(),S(),e),tt={class:"container mt-md-5 mt-3 mb-7"},at={class:"row"},et={class:"col-md-4"},st={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},dt={class:"card border-0"},ot=f(()=>t("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[t("div",{class:"d-flex justify-content-between align-items-center pe-1"},[t("h4",{class:"mb-0"}," Lorem ipsum "),t("i",{class:"fas fa-chevron-down"})])],-1)),ct={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},it={class:"card-body py-0"},lt={class:"list-unstyled"},rt=w('<div class="card border-0" data-v-7c240827><div class="card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0" id="headingTwo" data-bs-toggle="collapse" data-bs-target="#collapseTwo" data-v-7c240827><div class="d-flex justify-content-between align-items-center pe-1" data-v-7c240827><h4 class="mb-0" data-v-7c240827> Lorem ipsum </h4><i class="fas fa-chevron-down" data-v-7c240827></i></div></div><div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample" data-v-7c240827><div class="card-body py-0" data-v-7c240827><ul class="list-unstyled" data-v-7c240827><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li></ul></div></div></div><div class="card border-0" data-v-7c240827><div class="card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0" id="headingThree" data-bs-toggle="collapse" data-bs-target="#collapseThree" data-v-7c240827><div class="d-flex justify-content-between align-items-center pe-1" data-v-7c240827><h4 class="mb-0" data-v-7c240827> Lorem ipsum </h4><i class="fas fa-chevron-down" data-v-7c240827></i></div></div><div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample" data-v-7c240827><div class="card-body py-0" data-v-7c240827><ul class="list-unstyled" data-v-7c240827><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li><li data-v-7c240827><a href="#" class="py-2 d-block text-muted" data-v-7c240827>Lorem ipsum</a></li></ul></div></div></div>',2),nt={class:"col-md-8"},ut={class:"row"},pt={class:"card border-0 mb-4 position-relative position-relative"},ht=["src"],mt=f(()=>t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1)),vt={class:"card-body p-0"},_t={class:"mb-0 mt-3"},bt={class:"card-text mb-0"},gt={class:"text-muted"},ft=f(()=>t("p",{class:"text-muted mt-3"},null,-1)),yt=w('<nav class="d-flex justify-content-center" data-v-7c240827><ul class="pagination" data-v-7c240827><li class="page-item" data-v-7c240827><a class="page-link" href="#" aria-label="Previous" data-v-7c240827><span aria-hidden="true" data-v-7c240827>«</span></a></li><li class="page-item active" data-v-7c240827><a class="page-link" href="#" data-v-7c240827>1</a></li><li class="page-item" data-v-7c240827><a class="page-link" href="#" data-v-7c240827>2</a></li><li class="page-item" data-v-7c240827><a class="page-link" href="#" data-v-7c240827>3</a></li><li class="page-item" data-v-7c240827><a class="page-link" href="#" aria-label="Next" data-v-7c240827><span aria-hidden="true" data-v-7c240827>»</span></a></li></ul></nav>',1);function xt(e,s,a,r,n,y){const i=k("RouterLink"),L=k("UserModal");return o(),c("div",tt,[t("div",at,[t("div",et,[t("div",st,[t("div",dt,[ot,t("div",ct,[t("div",it,[t("ul",lt,[t("li",null,[p(i,{class:"py-2 d-block text-muted",to:"/products"},{default:_(()=>[h("全部")]),_:1})]),(o(!0),c(b,null,g(n.categories,l=>(o(),c("li",{key:l},[p(i,{class:"py-2 d-block text-muted",to:`/products?category=${l}`},{default:_(()=>[h(d(l),1)]),_:2},1032,["to"])]))),128))])])])]),rt])]),t("div",nt,[t("div",ut,[(o(!0),c(b,null,g(n.products,l=>(o(),c("div",{class:"col-md-6",key:l.id},[t("div",pt,[t("img",{src:l.imageUrl,class:"card-img-top rounded-0 object-fit-cover",height:"225",alt:"..."},null,8,ht),mt,t("div",vt,[t("h4",_t,[p(i,{to:`/product/${l.id}`},{default:_(()=>[h(d(l.title),1)]),_:2},1032,["to"])]),t("p",bt,[h("NT$"+d(l.price)+" ",1),t("span",gt,[t("del",null,"NT$"+d(l.origin_price),1)])]),ft])])]))),128))]),yt])]),p(L,{ref:"userModal",product:n.product,onAddToCart:y.addToCart},null,8,["product","onAddToCart"])])}const wt=$(Z,[["render",xt],["__scopeId","data-v-7c240827"]]);export{wt as default};
