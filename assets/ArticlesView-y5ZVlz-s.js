import{r as m,o as V,a as b,b as c,c as d,e as p,d as s,f as a,t as l,F as f,q as A,x as v,m as x,I as w,v as S,u as T,Q as I,w as E,p as R,g as C}from"./index-AP1mULAj.js";import{u as H}from"./toastMessage-hYlk33Q3.js";import{H as $}from"./HeroSection-70C6suYV.js";import{_ as j}from"./plugin-vueexport-helper-x3n3nnut.js";var B={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"vue001",BASE_URL:"/lightcraft/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const e=r=>(R("data-v-c9ea8e5d"),r=r(),C(),r),D={class:"container my-5"},N={class:"row mb-4"},O={class:"col-12"},U={class:"d-flex justify-content-between align-items-center"},z={class:"text-muted mb-0"},F=e(()=>s("i",{class:"fas fa-newspaper me-2"},null,-1)),q={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},Q={key:0,class:"col"},G={class:"card h-100 article-card"},J={class:"position-relative"},K=["src","alt"],W=e(()=>s("div",{class:"position-absolute top-0 end-0 m-2"},[s("span",{class:"badge bg-warning text-dark"},[s("i",{class:"fas fa-star me-1"}),a("精選 ")])],-1)),X={class:"card-body d-flex flex-column"},Y={class:"mb-3"},Z=e(()=>s("span",{class:"badge bg-light text-dark border me-2"},[s("i",{class:"fas fa-lightbulb me-1"}),a("照明知識 ")],-1)),ss={class:"text-muted"},ts=e(()=>s("i",{class:"fas fa-calendar me-1"},null,-1)),es={class:"card-title mb-3"},as=["innerHTML"],os={class:"d-flex justify-content-between align-items-center"},ls={class:"text-muted"},is=e(()=>s("i",{class:"fas fa-user me-1"},null,-1)),ns={class:"article-actions"},cs={class:"btn btn-sm btn-outline-secondary me-2",disabled:""},ds=e(()=>s("i",{class:"fas fa-eye me-1"},null,-1)),rs={class:"btn btn-sm btn-outline-secondary",disabled:""},_s=e(()=>s("i",{class:"fas fa-heart me-1"},null,-1)),us={class:"card-footer bg-transparent border-0 pt-0"},hs=e(()=>s("i",{class:"fas fa-book-open me-2"},null,-1)),ms={key:0,class:"text-center py-5"},ps=e(()=>s("i",{class:"fas fa-lightbulb text-muted",style:{"font-size":"4rem",opacity:"0.3"}},null,-1)),fs=e(()=>s("h3",{class:"text-muted mt-3"},"暫無文章",-1)),vs=e(()=>s("p",{class:"text-muted"},"精彩內容即將推出，敬請期待！",-1)),gs=[ps,fs,vs],bs={key:1,class:"row mt-5"},xs={class:"col-12"},ws={"aria-label":"文章分頁"},ys={class:"pagination justify-content-center"},ks=e(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),Ps={class:"page-item active"},Ms={class:"page-link"},Ls=e(()=>s("i",{class:"fas fa-chevron-right"},null,-1)),Vs={__name:"ArticlesView",setup(r){const{VITE_APP_URL:y,VITE_APP_PATH:k}=B,P=H(),{addMessage:M}=P,_=m(!1),u=m([]),o=m({}),h=(g=1)=>{const i=`${y}/api/${k}/articles?page=${g}`;_.value=!0,S.get(i).then(n=>{u.value=n.data.articles,o.value=n.data.pagination,_.value=!1}).catch(n=>{_.value=!1,M({title:"取得文章失敗",content:n.response.data.message,style:"danger"})})};return V(()=>{h()}),(g,i)=>{const n=b("LoadingOverlay"),L=b("RouterLink");return c(),d(f,null,[p(n,{active:_.value},null,8,["active"]),p($,{title:"文章專區",subtitle:"探索照明世界的精彩知識，從選購指南到居家佈置靈感","icon-class":"fas fa-lightbulb"}),s("div",D,[s("div",N,[s("div",O,[s("div",U,[s("p",z,[F,a(" 共 "+l(u.value.filter(t=>t.isPublic).length)+" 篇文章 ",1)])])])]),s("div",q,[(c(!0),d(f,null,A(u.value,t=>(c(),d(f,{key:t.id},[t.isPublic?(c(),d("div",Q,[s("div",G,[s("div",J,[s("img",{src:t.imageUrl||t.image||"https://via.placeholder.com/300x200?text=燈泡文章",class:"card-img-top",style:{height:"200px","object-fit":"cover"},alt:t.title},null,8,K),W]),s("div",X,[s("div",Y,[Z,s("small",ss,[ts,a(" "+l(T(I)(t.create_at)),1)])]),s("h5",es,l(t.title),1),s("div",{class:"article-description text-muted mb-3 flex-grow-1",innerHTML:t.description},null,8,as),s("div",os,[s("small",ls,[is,a(" "+l(t.author||"編輯部"),1)]),s("div",ns,[s("button",cs,[ds,a(" "+l(Math.floor(Math.random()*500)+100),1)]),s("button",rs,[_s,a(" "+l(Math.floor(Math.random()*50)+10),1)])])])]),s("div",us,[p(L,{class:"btn btn-warning text-dark w-100 fw-bold",to:`/article/${t.id}`},{default:E(()=>[hs,a(" 閱讀全文 ")]),_:2},1032,["to"])])])])):v("",!0)],64))),128))]),u.value.filter(t=>t.isPublic).length===0?(c(),d("div",ms,gs)):v("",!0),o.value.total_pages>1?(c(),d("div",bs,[s("div",xs,[s("nav",ws,[s("ul",ys,[s("li",{class:x(["page-item",{disabled:!o.value.has_pre}])},[s("a",{class:"page-link",href:"#",onClick:i[0]||(i[0]=w(t=>h(o.value.current_page-1),["prevent"]))},[ks,a(" 上一頁 ")])],2),s("li",Ps,[s("span",Ms,l(o.value.current_page)+" / "+l(o.value.total_pages),1)]),s("li",{class:x(["page-item",{disabled:!o.value.has_next}])},[s("a",{class:"page-link",href:"#",onClick:i[1]||(i[1]=w(t=>h(o.value.current_page+1),["prevent"]))},[a(" 下一頁 "),Ls])],2)])])])])):v("",!0)])],64)}}},Es=j(Vs,[["__scopeId","data-v-c9ea8e5d"]]);export{Es as default};
