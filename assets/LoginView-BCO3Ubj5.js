import{_ as p,a as m,g as u,r as _,o as f,c as h,d as g,b as s,j as v,l as d,v as c,F as w,p as b,i as x}from"./index-5uWLd9w3.js";import{u as T}from"./toastMessage-OX34INNF.js";import{T as P}from"./ToastMessages-8KQahlNf.js";var M={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"ryanpro",BASE_URL:"/vue_practise_w7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:V}=M,E={data(){return{user:{username:"",password:""}}},components:{ToastMessages:P},methods:{...m(T,["addMessage"]),login(){u.post(`${V}/admin/signin`,this.user).then(e=>{const{token:o,expired:n}=e.data;document.cookie=`hexToken=${o}; expires=${new Date(n)};`,this.$router.push("/admin/products")}).catch(e=>{this.addMessage({title:"登入失敗",content:e.response.data.message,style:"danger"}),alert(e.response.data.message)})}}},r=e=>(b("data-v-37dbaabd"),e=e(),x(),e),S={class:"container vh-100"},y={class:"row justify-content-center align-items-center h-100"},I={class:"col-8"},A=r(()=>s("h1",{class:"h3 mb-3 font-weight-normal text-center"}," 請先登入 ",-1)),k={class:"form-floating mb-3"},D=r(()=>s("label",{for:"username"},"Email address",-1)),R={class:"form-floating"},U=r(()=>s("label",{for:"password"},"Password",-1)),B=r(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1));function L(e,o,n,j,a,i){const l=_("ToastMessages");return f(),h(w,null,[g(l),s("div",S,[s("div",y,[s("div",I,[A,s("form",{id:"form",class:"form-signin",onSubmit:o[2]||(o[2]=v((...t)=>i.login&&i.login(...t),["prevent"]))},[s("div",k,[d(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=t=>a.user.username=t)},null,512),[[c,a.user.username]]),D]),s("div",R,[d(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=t=>a.user.password=t)},null,512),[[c,a.user.password]]),U]),B],32)])])])],64)}const O=p(E,[["render",L],["__scopeId","data-v-37dbaabd"]]);export{O as default};
